# We use isolated tests for PR validation

trigger: none # so no CI triggers

pool:
  vmImage: ubuntu-latest

variables:
  project: ./test/FunctionApp.Tests/FunctionApp.Tests.csproj
  build-config: release

steps:
  - task: UseDotNet@2
    inputs:
      packageType: sdk
      version: 7.x
    displayName: Setup .NET

  - bash: >-
      dotnet build
      $(project)
      -c $(build-config)
    displayName: dotnet build

  - bash: >-
      dotnet test
      $(project)
      -c $(build-config)
    displayName: dotnet test
